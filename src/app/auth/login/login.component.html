<!-- <div class="page">
  <div class="container">
    <form #f="ngForm" (ngSubmit)="loginsession(f)">
      <h2 class="heading text-center">ログイン</h2>
      <div class="form-group">
        <input
          type="email"
          ngModel
          name="email"
          class="form-control"
          placeholder="メールアドレスを入力"
          required
          autofocus
        />
      </div>
      <div class="form-group">
        <input
          type="password"
          ngModel
          name="password"
          class="form-control"
          placeholder="パスワードを入力"
          required
        />
      </div>
      <button
        class="btn btn-lg btn-primary"
        type="submit"
        [disabled]="!f.valid"
      >
        ログイン
      </button>
    </form>
    <div class="note">
      <a routerLink="/signup">アカウントを新規作成</a>
    </div>
  </div>
</div> -->
<div class="container">
  <mat-card class="login-card">
    <mat-card-header>
      <mat-card-title class="login-title">ログイン</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form class="login-form" [formGroup]="loginForm" (ngSubmit)="login()">
        <mat-form-field>
          <input
            matInput
            placeholder="メールアドレス"
            id="key"
            name="key"
            required
            formControlName="email"
          />
          <!-- <mat-error *ngIf="key.errors?.required"
          >You must enter a value</mat-error
        > -->
        </mat-form-field>

        <mat-form-field>
          <input
            [type]="hide ? 'password' : 'text'"
            matInput
            placeholder="パスワード"
            id="secret"
            name="secret"
            formControlName="password"
            required
          />
          <mat-icon class="icon" matSuffix (click)="hide = !hide">{{
            hide ? "visibility" : "visibility_off"
          }}</mat-icon>
          <!-- <mat-error *ngIf="secret.errors?.required"
          >You must enter a value</mat-error
        > -->
        </mat-form-field>
        <button
          *ngIf="loading; else loaded"
          type="submit"
          mat-raised-button
          color="primary"
          [disabled]="loginForm.invalid"
        >
          Login
        </button>
      </form>
    </mat-card-content>
    <a routerLink="/signup" class="already-has-account"
      >既にアカウントをお持ちの方</a
    >
  </mat-card>
  <ng-template #loaded>
    <div class="button-spin-area">
      <div class="loader"></div>
      <span class="loader-text">Loading...</span>
    </div>
  </ng-template>
</div>
